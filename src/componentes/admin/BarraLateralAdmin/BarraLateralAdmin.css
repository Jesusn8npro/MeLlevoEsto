/* ===== Estilos de BarraLateralAdmin (scoped) ===== */
/* Nota: Scoped bajo .admin-theme para evitar fugas fuera del área admin */

.admin-theme .barra-lateral-admin {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  background-color: var(--color-fondo);
  border-right: 1px solid var(--color-borde);
  transition: width var(--transicion-mediana), transform var(--transicion-mediana);
  z-index: var(--z-index-barra-lateral);
  overflow: hidden;
}

.admin-theme .barra-lateral-expandida {
  width: var(--ancho-barra-lateral);
}

.admin-theme .barra-lateral-colapsada {
  width: var(--ancho-barra-lateral-colapsada);
}

/* Estilos específicos para sidebar colapsado */
.admin-theme .barra-lateral-colapsada .barra-lateral-menu-item {
  justify-content: center;
  padding: 0.75rem 0.5rem;
}

.admin-theme .barra-lateral-colapsada .barra-lateral-menu-texto,
.admin-theme .barra-lateral-colapsada .barra-lateral-chevron {
  display: none;
}

.admin-theme .barra-lateral-colapsada .barra-lateral-menu-icono {
  margin-right: 0;
}

.admin-theme .barra-lateral-colapsada .barra-lateral-seccion-titulo {
  display: none;
}

.admin-theme .barra-lateral-hover {
  width: var(--ancho-barra-lateral);
  box-shadow: var(--sombra-extra-grande);
}

/* Tooltip para elementos colapsados */
.admin-theme .barra-lateral-colapsada .barra-lateral-menu-item {
  position: relative;
}

.admin-theme .barra-lateral-colapsada .barra-lateral-menu-item::after {
  content: attr(data-tooltip);
  position: absolute;
  left: calc(100% + 0.5rem);
  top: 50%;
  transform: translateY(-50%);
  background-color: var(--color-gris-900);
  color: white;
  padding: 0.5rem 0.75rem;
  border-radius: var(--radio-borde);
  font-size: 0.75rem;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: all var(--transicion-rapida);
  z-index: 1000;
  box-shadow: var(--sombra-mediana);
}

.admin-theme .barra-lateral-colapsada .barra-lateral-menu-item:hover::after {
  opacity: 1;
  visibility: visible;
}

.admin-theme.dark .barra-lateral-colapsada .barra-lateral-menu-item::after,
.dark .admin-theme .barra-lateral-colapsada .barra-lateral-menu-item::after {
  background-color: var(--color-gris-700);
}

/* Responsive móvil */
@media (max-width: 1279px) {
  .admin-theme .barra-lateral-admin {
    transform: translateX(-100%);
    width: var(--ancho-barra-lateral);
  }
  .admin-theme .barra-lateral-movil-abierta {
    transform: translateX(0);
  }
}

/* ===== Logo ===== */
.admin-theme .barra-lateral-logo-contenedor {
  padding: 1.5rem 1rem;
  border-bottom: 1px solid var(--color-borde);
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: var(--altura-encabezado);
}

.admin-theme .barra-lateral-logo-expandido { justify-content: flex-start; }
.admin-theme .barra-lateral-logo-colapsado { justify-content: center; }
.admin-theme .barra-lateral-logo-completo {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.admin-theme .barra-lateral-logo-texto {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--color-primario);
  line-height: 1.2;
}
.admin-theme .barra-lateral-logo-subtitulo {
  font-size: 0.75rem;
  color: var(--color-texto-secundario);
  font-weight: 500;
  margin-top: 0.125rem;
}
.admin-theme .barra-lateral-logo-icono {
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ===== Contenido ===== */
.admin-theme .barra-lateral-contenido {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 1rem 0;
  display: flex;
  flex-direction: column;
  max-height: calc(100vh - var(--altura-encabezado));
  scrollbar-width: thin;
  scrollbar-color: var(--color-borde-hover) transparent;
}

.admin-theme .barra-lateral-nav-secciones > div:not(:last-child) { margin-bottom: 2rem; }
.admin-theme .barra-lateral-seccion-titulo {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-texto-terciario);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  padding: 0 1rem;
  margin-bottom: 0.5rem;
  transition: opacity var(--transicion-rapida);
}
.admin-theme .barra-lateral-seccion-titulo-oculto {
  opacity: 0;
  height: 0;
  margin: 0;
  overflow: hidden;
}

/* ===== Menú ===== */
.admin-theme .barra-lateral-menu-lista { list-style: none; margin: 0; padding: 0; }
.admin-theme .barra-lateral-menu-item {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 0.75rem 1rem;
  margin: 0.125rem 0.5rem;
  border-radius: var(--radio-borde);
  text-decoration: none;
  color: var(--color-texto-secundario);
  font-weight: 500;
  font-size: 0.875rem;
  transition: all var(--transicion-rapida);
  border: none;
  background: none;
  cursor: pointer;
  text-align: left;
  position: relative;
  overflow: hidden;
  white-space: nowrap;
}
.admin-theme .barra-lateral-menu-item:hover {
  background-color: var(--color-gris-100);
  color: var(--color-gris-700);
}
.admin-theme .barra-lateral-menu-item-activo {
  background-color: var(--color-primario-50);
  color: var(--color-primario-500);
}
.admin-theme .barra-lateral-menu-item-activo:hover { background-color: var(--color-primario-hover); }
.admin-theme .barra-lateral-menu-item-centrado { justify-content: center; padding-left: 0.5rem; padding-right: 0.5rem; }
.admin-theme .barra-lateral-menu-icono {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.25rem;
  height: 1.25rem;
  margin-right: 0.75rem;
  flex-shrink: 0;
}
.admin-theme .barra-lateral-menu-item-centrado .barra-lateral-menu-icono { margin-right: 0; }
.admin-theme .barra-lateral-menu-texto { flex: 1; white-space: nowrap; overflow: hidden; }
.admin-theme .barra-lateral-menu-flecha { width: 1rem; height: 1rem; margin-left: auto; transition: transform var(--transicion-rapida); flex-shrink: 0; }
.admin-theme .barra-lateral-chevron-rotado { transform: rotate(180deg); }

/* ===== Mejoras hover/transiciones (extraídas de EstilosAdmin.css) ===== */
.admin-theme .barra-lateral-menu-item { position: relative; overflow: hidden; }
.admin-theme .barra-lateral-menu-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s;
}
.admin-theme .barra-lateral-menu-item:hover::before { left: 100%; }

.admin-theme .barra-lateral-submenu-item { position: relative; overflow: hidden; }
.admin-theme .barra-lateral-submenu-item::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 0;
  height: 2px;
  background-color: var(--color-primario-500);
  transition: width var(--transicion-rapida);
}
.admin-theme .barra-lateral-submenu-item:hover::after { width: 100%; }

/* Animaciones */
.admin-theme .barra-lateral-movil-abierta { animation: deslizar-entrada-suave var(--transicion-mediana) ease-out; }
@keyframes deslizar-entrada-suave {
  from { transform: translateX(-100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

/* Widget del sidebar (extraído de EstilosAdmin.css) */
.admin-theme .barra-lateral-widget-contenedor { padding: 0 1rem 2.5rem 1rem; margin-top: auto; }
.admin-theme .widget-barra-lateral {
  width: 100%;
  max-width: 15rem;
  margin: 0 auto;
  padding: 1.25rem 1rem;
  background-color: var(--color-gris-50);
  border-radius: var(--radio-borde-xl);
  text-align: center;
  transition: all var(--transicion-rapida);
  animation: aparecer-widget var(--transicion-mediana) ease-out;
}
.admin-theme.dark .widget-barra-lateral, .dark .admin-theme .widget-barra-lateral { background-color: rgba(255, 255, 255, 0.03); }
.admin-theme .widget-titulo { margin: 0 0 0.5rem 0; font-size: 0.875rem; font-weight: 600; color: var(--color-texto); line-height: 1.25; }
.admin-theme .widget-descripcion { margin: 0 0 1rem 0; font-size: 0.75rem; color: var(--color-texto-secundario); line-height: 1.4; }
.admin-theme .widget-boton {
  display: flex; align-items: center; justify-content: center; width: 100%; padding: 0.75rem;
  background-color: var(--color-primario-500); color: white; text-decoration: none; font-size: 0.75rem; font-weight: 500;
  border-radius: var(--radio-borde-mediano); transition: all var(--transicion-rapida);
}
.admin-theme .widget-boton:hover { background-color: var(--color-primario-600); transform: translateY(-1px); box-shadow: var(--sombra-mediana); }
@keyframes aparecer-widget { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ===== Submenú ===== */
.admin-theme .barra-lateral-submenu-contenedor { overflow: hidden; transition: height var(--transicion-mediana); }
.admin-theme .barra-lateral-submenu-lista { list-style: none; margin: 0; padding: 0; padding-left: 2.5rem; }
.admin-theme .barra-lateral-submenu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 0.5rem 1rem;
  margin: 0.125rem 0;
  border-radius: var(--radio-borde);
  text-decoration: none;
  color: var(--color-texto-secundario);
  font-weight: 400;
  font-size: 0.875rem;
  transition: all var(--transicion-rapida);
}
.admin-theme .barra-lateral-submenu-item:hover { background-color: var(--color-fondo-terciario); color: var(--color-texto); }
.admin-theme .barra-lateral-submenu-item-activo { background-color: var(--color-primario); color: white; }
.admin-theme .barra-lateral-submenu-insignias { display: flex; gap: 0.25rem; }
.admin-theme .barra-lateral-submenu-insignia { font-size: 0.625rem; font-weight: 600; padding: 0.125rem 0.375rem; border-radius: 9999px; text-transform: uppercase; letter-spacing: 0.025em; }
.admin-theme .barra-lateral-submenu-insignia-inactiva { background-color: var(--color-fondo-terciario); color: var(--color-texto-terciario); }
.admin-theme .barra-lateral-submenu-insignia-activa { background-color: rgba(255, 255, 255, 0.2); color: white; }

/* ===== Scrollbar ===== */
.admin-theme .barra-lateral-contenido::-webkit-scrollbar { width: 8px; }
.admin-theme .barra-lateral-contenido::-webkit-scrollbar-track { background: transparent; }
.admin-theme .barra-lateral-contenido::-webkit-scrollbar-thumb { background-color: var(--color-borde); border-radius: 8px; }
.admin-theme .barra-lateral-contenido::-webkit-scrollbar-thumb:hover { background-color: var(--color-borde-hover); }

/* ===== Modo oscuro ===== */
.admin-theme.dark .barra-lateral-admin,
.dark .admin-theme .barra-lateral-admin { background-color: var(--color-fondo); border-right-color: var(--color-borde); }
.admin-theme.dark .barra-lateral-menu-item,
.dark .admin-theme .barra-lateral-menu-item { color: var(--color-texto-secundario); }
.admin-theme.dark .barra-lateral-menu-item:hover,
.dark .admin-theme .barra-lateral-menu-item:hover { background-color: var(--color-fondo-terciario); color: var(--color-texto); }
.admin-theme.dark .barra-lateral-menu-item-activo,
.dark .admin-theme .barra-lateral-menu-item-activo { background-color: var(--color-primario-50); color: var(--color-primario-500); }
.admin-theme.dark .barra-lateral-menu-icono,
.dark .admin-theme .barra-lateral-menu-icono { color: inherit; }